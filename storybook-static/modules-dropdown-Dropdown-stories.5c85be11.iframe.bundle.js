"use strict";(self.webpackChunkmusa_design_system=self.webpackChunkmusa_design_system||[]).push([[74],{"./src/modules/dropdown/Dropdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomEmptyMessage:()=>CustomEmptyMessage,CustomParentWidth:()=>CustomParentWidth,Default:()=>Default,Disabled:()=>Disabled,Error:()=>Error,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var react=__webpack_require__("./node_modules/react/index.js"),hi2=__webpack_require__("./node_modules/react-icons/hi2/index.mjs"),clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const CheckIncon=_ref=>{let{className}=_ref;return(0,jsx_runtime.jsx)("svg",{className,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,jsx_runtime.jsx)("polyline",{points:"20 6 9 17 4 12"})})},icons_CheckIncon=CheckIncon;function UserRoundedIcon(_ref){let{className,strokeWidth="2"}=_ref;return(0,jsx_runtime.jsx)("svg",{className,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}CheckIncon.__docgenInfo={description:"",methods:[],displayName:"CheckIncon",props:{className:{required:!0,tsType:{name:"string"},description:""}}};const icons_UserRoundedIcon=UserRoundedIcon;UserRoundedIcon.__docgenInfo={description:"",methods:[],displayName:"UserRoundedIcon",props:{className:{required:!0,tsType:{name:"string"},description:""},strokeWidth:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"2"',computed:!1}}}};const ListDropdown=_ref=>{let{setSelectedOption,options,inputRef,selectedOption,emptyMessage,isDropdownOpen,setIsDropdownOpen,searchTerm}=_ref;const[sortedOptions,setSortedOptions]=(0,react.useState)([]),[selectingItem,setSelectingItem]=(0,react.useState)(null),[hoveredItemValue,setHoveredItemValue]=(0,react.useState)(null),[defaultValue,setDefaultValue]=(0,react.useState)(null);return(0,react.useEffect)((()=>{isDropdownOpen&&defaultValue?(()=>{let sortedList=[...options].sort(((a,b)=>a.label.localeCompare(b.label))).filter((option=>option.label.toLowerCase().includes(searchTerm.toLowerCase())));if(defaultValue){const index=sortedList.findIndex((option=>option.label===defaultValue.label));if(index>-1){const[selectedItem]=sortedList.splice(index,1);sortedList.unshift(selectedItem)}}setSortedOptions(sortedList)})():setSortedOptions([...options].sort(((a,b)=>a.label.localeCompare(b.label))).filter((option=>option.label.toLowerCase().includes(searchTerm.toLowerCase()))))}),[options,isDropdownOpen,defaultValue,searchTerm]),(0,react.useEffect)((()=>{var _inputRef$current;isDropdownOpen||(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.blur())}),[isDropdownOpen]),isDropdownOpen?(0,jsx_runtime.jsx)("ul",{className:"options scrollbar-hide",children:sortedOptions.length>0?sortedOptions.map(((option,index)=>{const optionValue=option.value,optionLabel=option.label,isHoveredItem=hoveredItemValue===index,isCurrentItem=optionValue===(null==selectedOption?void 0:selectedOption.value)&&!selectingItem,isSelectingItem=(null==selectingItem?void 0:selectingItem.value)===optionValue&&selectingItem.isSelecting,isHoveringItem=isHoveredItem||isCurrentItem?"3":"2";return(0,jsx_runtime.jsxs)("li",{className:(0,clsx.A)("options__item justify-between",{"options__item--hovered":isCurrentItem||isSelectingItem,"cursor-pointer":null==option?void 0:option.value}),onClick:optionValue?()=>{return label=optionLabel,setSelectingItem({isSelecting:!0,value:value=optionValue}),setSelectedOption((prev=>Array.isArray(prev)?[...prev,{value,label}]:[{value,label}])),void setTimeout((()=>{setSelectingItem(null),setHoveredItemValue(null),setIsDropdownOpen(!1),setDefaultValue({value,label})}),400);var value,label}:void 0,onMouseEnter:()=>setHoveredItemValue(index),onMouseLeave:()=>setHoveredItemValue(null),children:[(0,jsx_runtime.jsxs)("div",{className:"justify-start",children:[(0,jsx_runtime.jsx)(icons_UserRoundedIcon,{className:"w-4 h-4",strokeWidth:isHoveringItem}),(0,jsx_runtime.jsx)("span",{className:"text-gray-900",children:optionLabel})]}),(0,jsx_runtime.jsx)(icons_CheckIncon,{className:(0,clsx.A)("w-4 h-4",{"text-green-600":isCurrentItem||isSelectingItem,hidden:!isCurrentItem&&!isSelectingItem})})]},"".concat(optionValue,"-").concat(index))})):(0,jsx_runtime.jsx)("li",{className:"text-gray-300 flex-centered",children:emptyMessage})}):null},components_ListDropdown=ListDropdown;ListDropdown.__docgenInfo={description:"",methods:[],displayName:"ListDropdown",props:{setSelectedOption:{required:!0,tsType:{name:"any"},description:""},selectedOption:{required:!0,tsType:{name:"any"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  value: number | string | null;\n  label: string;\n}",signature:{properties:[{key:"value",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"OptionsType[]"},description:""},inputRef:{required:!0,tsType:{name:"any"},description:""},emptyMessage:{required:!0,tsType:{name:"string"},description:""},isDropdownOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsDropdownOpen:{required:!0,tsType:{name:"any"},description:""},searchTerm:{required:!0,tsType:{name:"string"},description:""}}};const DropdownSelector=_ref=>{let{options,formGroupWidth,selectedOption,setSelectedOption,labelText,hintText,emptyMessage="No hay opciones disponibles",isDisabled=!1,isError=!1}=_ref;const[isDropdownOpen,setIsDropdownOpen]=(0,react.useState)(!1),[inputValue,setInputValue]=(0,react.useState)(""),containerRef=(0,react.useRef)(null),inputRef=(0,react.useRef)(null),handleClickOutside=event=>{containerRef.current&&!containerRef.current.contains(event.target)&&setIsDropdownOpen(!1)};return(0,react.useEffect)((()=>(document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)})),[containerRef]),(0,react.useEffect)((()=>{!isDropdownOpen&&(null==selectedOption?void 0:selectedOption.length)>0&&setInputValue(selectedOption.map((option=>option.label)).join(", "))}),[isDropdownOpen,selectedOption]),(0,jsx_runtime.jsxs)("div",{className:(0,clsx.A)("relative px-2 mt-5 bg-white",formGroupWidth),ref:containerRef,children:[(0,jsx_runtime.jsxs)("div",{className:"form--group",children:[(0,jsx_runtime.jsx)("input",{type:"text",className:(0,clsx.A)("input",{"input--disabled":isDisabled,"input--error":isError,"input--default":!isDisabled&&!isError}),placeholder:" ",value:inputValue,onChange:e=>{setInputValue(e.target.value),isDropdownOpen||setIsDropdownOpen(!0)},onClick:()=>{isDisabled||setIsDropdownOpen(!isDropdownOpen)},id:"custom-dropdown",ref:inputRef,disabled:isDisabled}),labelText&&(0,jsx_runtime.jsx)("label",{className:(0,clsx.A)("label",{"label--error":isError,"label--default":!isError}),htmlFor:"custom-dropdown",children:labelText}),(0,jsx_runtime.jsx)("div",{className:"right-2.5 absolute-center-y",children:(0,jsx_runtime.jsx)(hi2.gNC,{className:(0,clsx.A)("w-4 h-4",{"rotate-0":isDropdownOpen,"rotate-180":!isDropdownOpen,"cursor-pointer":!isDisabled,"cursor-not-allowed":isDisabled,"text-gray-400":isDisabled,"text-gray-600":!isDisabled})})})]}),hintText&&!isDropdownOpen&&(0,jsx_runtime.jsx)("span",{className:(0,clsx.A)("mt-1 ml-1 text-xs",{"text-error":isError,"text-gray-600":!isError}),children:hintText}),(0,jsx_runtime.jsx)(components_ListDropdown,{setSelectedOption,selectedOption,options,inputRef,emptyMessage,isDropdownOpen,setIsDropdownOpen,searchTerm:inputValue})]})},dropdown_DropdownSelector=DropdownSelector;DropdownSelector.__docgenInfo={description:"",methods:[],displayName:"DropdownSelector",props:{name:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  value: number | string | null;\n  label: string;\n}",signature:{properties:[{key:"value",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"OptionsType[]"},description:""},labelText:{required:!1,tsType:{name:"string"},description:""},hintText:{required:!1,tsType:{name:"string"},description:""},formGroupWidth:{required:!1,tsType:{name:"string"},description:""},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"No hay opciones disponibles"',computed:!1}},isDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isError:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectedOption:{required:!0,tsType:{name:"any"},description:""},setSelectedOption:{required:!0,tsType:{name:"any"},description:""}}};const userDataMock=[{value:"1",label:"Mariana"},{value:"2",label:"JesÃºs"},{value:"3",label:"Axel rose"}],Dropdown_stories={title:"Dropdown/DropdownSelector",component:dropdown_DropdownSelector},renderDropdown=args=>{const[selectedOption,setSelectedOption]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(dropdown_DropdownSelector,{...args,selectedOption,setSelectedOption})},Default={args:{options:userDataMock,labelText:"Elige un usuario",hintText:"Elige cualquier nombre para continuar"},render:renderDropdown},CustomParentWidth={args:{options:userDataMock,labelText:"Elige un usuario",hintText:"Elige cualquier nombre para continuar",formGroupWidth:"w-full lg:w-1/2"},render:renderDropdown},CustomEmptyMessage={args:{options:[],labelText:"Elige un usuario",hintText:"Elige cualquier nombre para continuar",emptyMessage:"No hay usuarios disponibles"},render:renderDropdown},Disabled={args:{options:[],labelText:"Elige un usuario",isDisabled:!0},render:renderDropdown},Error={args:{options:userDataMock,labelText:"Elige un usuario",hintText:"Elige cualquier nombre para continuar",isError:!0},render:renderDropdown},__namedExportsOrder=["Default","CustomParentWidth","CustomEmptyMessage","Disabled","Error"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    options: userDataMock,\n    labelText: "Elige un usuario",\n    hintText: "Elige cualquier nombre para continuar"\n  },\n  render: renderDropdown\n}',...Default.parameters?.docs?.source}}},CustomParentWidth.parameters={...CustomParentWidth.parameters,docs:{...CustomParentWidth.parameters?.docs,source:{originalSource:'{\n  args: {\n    options: userDataMock,\n    labelText: "Elige un usuario",\n    hintText: "Elige cualquier nombre para continuar",\n    formGroupWidth: "w-full lg:w-1/2"\n  },\n  render: renderDropdown\n}',...CustomParentWidth.parameters?.docs?.source}}},CustomEmptyMessage.parameters={...CustomEmptyMessage.parameters,docs:{...CustomEmptyMessage.parameters?.docs,source:{originalSource:'{\n  args: {\n    options: [],\n    labelText: "Elige un usuario",\n    hintText: "Elige cualquier nombre para continuar",\n    emptyMessage: "No hay usuarios disponibles"\n  },\n  render: renderDropdown\n}',...CustomEmptyMessage.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:'{\n  args: {\n    options: [],\n    labelText: "Elige un usuario",\n    isDisabled: true\n  },\n  render: renderDropdown\n}',...Disabled.parameters?.docs?.source}}},Error.parameters={...Error.parameters,docs:{...Error.parameters?.docs,source:{originalSource:'{\n  args: {\n    options: userDataMock,\n    labelText: "Elige un usuario",\n    hintText: "Elige cualquier nombre para continuar",\n    isError: true\n  },\n  render: renderDropdown\n}',...Error.parameters?.docs?.source}}}}}]);